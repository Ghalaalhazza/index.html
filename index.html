<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Asset Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --primary-green:#006066;
      --white:#ffffff;
      --dark-bg:#f5f5f5;
      --text-dark:#1a1a1a;
      --muted:#666;
      --danger:#e63946;
      --card-shadow:0 2px 6px rgba(0,0,0,0.1);
    }

    * { box-sizing: border-box; }

    body {
      background: var(--dark-bg);
      color: var(--text-dark);
      margin: 0;
      font-family: "Gill Sans MT", Arial, sans-serif;
      padding: 20px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--white);
      box-shadow: var(--card-shadow);
      padding: 15px 25px;
      border-radius: 10px;
    }

    header img.logo {
      height: 60px;
      object-fit: contain;
    }

    header h1 {
      flex: 1;
      text-align: center;
      font-size: 2rem;
      color: var(--primary-green);
      margin: 0;
    }

    nav {
      margin: 20px 0;
      text-align: center;
    }

    nav button {
      background: var(--primary-green);
      color: var(--white);
      border: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
      font-size: 1rem;
    }

    nav button:hover {
      opacity: 0.8;
      transform: scale(1.05);
    }

    #search-bar {
      width: 100%;
      padding: 12px;
      margin: 10px 0 20px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--white);
      border-radius: 10px;
      box-shadow: var(--card-shadow);
      overflow: hidden;
    }

    th, td {
      padding: 12px;
      border-bottom: 1px solid #eee;
      text-align: left;
    }

    th {
      background: var(--primary-green);
      color: var(--white);
    }

    tr:hover {
      background: #f9f9f9;
    }

    .actions button {
      padding: 6px 10px;
      margin: 2px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .edit-btn {
      background: #4CAF50;
      color: white;
    }

    .delete-btn {
      background: var(--danger);
      color: white;
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="Logo" class="logo">
    <h1>Asset Tracker</h1>
  </header>

  <nav>
    <button onclick="showPage('employees')">Employees</button>
    <button onclick="showPage('stock')">Stock</button>
    <button onclick="addNew()">Add</button>
  </nav>

  <input type="text" id="search-bar" placeholder="Search by Serial Number..." onkeyup="searchAssets()">

  <div id="content"></div>

  <script>
    // üìÇ Data placeholders
    let employeesData = [];
    let stockData = [];
    let currentPage = 'employees';

    // üöÄ Load CSV files and parse
    async function loadData() {
      try {
        const [employeesResponse, stockResponse] = await Promise.all([
          fetch('employees.csv'),
          fetch('stock.csv')
        ]);

        const [employeesText, stockText] = await Promise.all([
          employeesResponse.text(),
          stockResponse.text()
        ]);

        employeesData = parseCSV(employeesText);
        stockData = parseCSV(stockText);

        console.log('‚úÖ Employees Loaded:', employeesData);
        console.log('‚úÖ Stock Loaded:', stockData);

        renderEmployees();

      } catch (error) {
        console.error('‚ùå Error loading CSV files:', error);
      }
    }

    // üß© CSV to JSON Parser
    function parseCSV(csvText) {
      const lines = csvText.trim().split('\n');
      const headers = lines[0].split(',');
      return lines.slice(1).map(line => {
        const values = line.split(',');
        const obj = {};
        headers.forEach((header, i) => {
          obj[header.trim()] = values[i] ? values[i].trim() : '';
        });
        return obj;
      });
    }

    // üìä Render Employees Table
    function renderEmployees() {
      currentPage = 'employees';
      const table = `
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Department</th>
              <th>Device</th>
              <th>Serial Number</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            ${employeesData.map(emp => `
              <tr>
                <td>${emp.Name || ''}</td>
                <td>${emp.Department || ''}</td>
                <td>${emp.Device || ''}</td>
                <td>${emp.Serial || ''}</td>
                <td class="actions">
                  <button class="edit-btn" onclick="editItem('${emp.Serial}')">Edit</button>
                  <button class="delete-btn" onclick="deleteItem('${emp.Serial}')">Delete</button>
                </td>
              </tr>`).join('')}
          </tbody>
        </table>`;
      document.getElementById('content').innerHTML = table;
    }

    // üì¶ Render Stock Table
    function renderStock() {
      currentPage = 'stock';
      const table = `
        <table>
          <thead>
            <tr>
              <th>Item</th>
              <th>Category</th>
              <th>Quantity</th>
              <th>Location</th>
            </tr>
          </thead>
          <tbody>
            ${stockData.map(item => `
              <tr>
                <td>${item.Item || ''}</td>
                <td>${item.Category || ''}</td>
                <td>${item.Quantity || ''}</td>
                <td>${item.Location || ''}</td>
              </tr>`).join('')}
          </tbody>
        </table>`;
      document.getElementById('content').innerHTML = table;
    }

    // üîç Search Function
    function searchAssets() {
      const query = document.getElementById('search-bar').value.toLowerCase();
      if (currentPage === 'employees') {
        const filtered = employeesData.filter(emp =>
          emp.Serial && emp.Serial.toLowerCase().includes(query)
        );
        const table = `
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Department</th>
                <th>Device</th>
                <th>Serial Number</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              ${filtered.map(emp => `
                <tr>
                  <td>${emp.Name}</td>
                  <td>${emp.Department}</td>
                  <td>${emp.Device}</td>
                  <td>${emp.Serial}</td>
                  <td class="actions">
                    <button class="edit-btn" onclick="editItem('${emp.Serial}')">Edit</button>
                    <button class="delete-btn" onclick="deleteItem('${emp.Serial}')">Delete</button>
                  </td>
                </tr>`).join('')}
            </tbody>
          </table>`;
        document.getElementById('content').innerHTML = table;
      }
    }

    // ‚ûï Add New Item (placeholder)
    function addNew() {
      alert('üõ†Ô∏è Add new item feature under construction.');
    }

    // ‚úèÔ∏è Edit & ‚ùå Delete (placeholders)
    function editItem(serial) {
      alert('‚úèÔ∏è Edit item: ' + serial);
    }

    function deleteItem(serial) {
      alert('üóëÔ∏è Delete item: ' + serial);
    }

    // üåê Switch between pages
    function showPage(page) {
      if (page === 'employees') renderEmployees();
      else if (page === 'stock') renderStock();
    }

    // üöÄ Load all data on start
    window.onload = loadData;
  </script>
</body>
</html>



